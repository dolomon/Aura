<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Aura Theme Editor</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px;color:#333}
.container{max-width:600px;margin:0 auto;background:#fff;border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,.3);overflow:hidden}
.header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:30px 24px;text-align:center}
.header h1{font-size:28px;font-weight:700;margin-bottom:8px}
.header p{opacity:.9;font-size:14px}
.content{padding:24px}
.section{margin-bottom:24px}
.section h2{font-size:18px;font-weight:600;margin-bottom:16px;color:#333}
.presets{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-bottom:24px}
.preset-btn{padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;font-size:14px;font-weight:500}
.preset-btn:hover{border-color:#667eea;transform:translateY(-2px);box-shadow:0 4px 12px rgba(102,126,234,.2)}
.color-group{margin-bottom:20px;padding:16px;background:#f8f9fa;border-radius:8px}
.color-group label{display:block;font-weight:500;margin-bottom:8px;font-size:14px;color:#555}
.color-input-wrapper{display:flex;align-items:center;gap:12px}
.color-input-wrapper input[type="color"]{width:60px;height:40px;border:2px solid #ddd;border-radius:6px;cursor:pointer;background:none}
.color-input-wrapper input[type="text"]{flex:1;padding:10px 12px;border:2px solid #e0e0e0;border-radius:6px;font-family:monospace;font-size:14px}
.btn{display:block;width:100%;padding:14px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s;margin-top:12px}
.btn-primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 16px rgba(102,126,234,.3)}
.btn-secondary{background:#f0f0f0;color:#333}
.btn-secondary:hover{background:#e0e0e0}
.preview{margin-top:24px;padding:20px;border-radius:8px;background:var(--bg-gradient);color:#fff;text-align:center;position:relative;overflow:hidden}
.preview::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,var(--bg-top),var(--bg-bottom));z-index:0}
.preview-content{position:relative;z-index:1}
.preview h3{font-size:20px;margin-bottom:8px;color:var(--text-primary)}
.preview p{opacity:.9;font-size:14px;color:var(--text-secondary)}
.status{padding:12px;margin-top:12px;border-radius:6px;text-align:center;font-size:14px;display:none}
.status.success{background:#d4edda;color:#155724;border:1px solid #c3e6cb;display:block}
.status.error{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;display:block}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1>üå§Ô∏è Aura Theme Editor</h1>
<p>Customize your weather display colors</p>
</div>
<div class="content">
<div class="section">
<h2>Preset Themes</h2>
<div class="presets">
<button class="preset-btn" onclick="loadPreset('default')">Default</button>
<button class="preset-btn" onclick="loadPreset('sunset')">Sunset</button>
<button class="preset-btn" onclick="loadPreset('ocean')">Ocean</button>
<button class="preset-btn" onclick="loadPreset('forest')">Forest</button>
<button class="preset-btn" onclick="loadPreset('lavender')">Lavender</button>
<button class="preset-btn" onclick="loadPreset('desert')">Desert</button>
<button class="preset-btn" onclick="loadPreset('arctic')">Arctic</button>
</div>
</div>
<div class="section">
<h2>Custom Colors</h2>
<div class="color-group">
<label>Background Top</label>
<div class="color-input-wrapper">
<input type="color" id="bg_top" onchange="updateFromPicker('bg_top')">
<input type="text" id="bg_top_hex" placeholder="#4c8cb9" onchange="updateFromHex('bg_top')">
</div>
</div>
<div class="color-group">
<label>Background Bottom</label>
<div class="color-input-wrapper">
<input type="color" id="bg_bottom" onchange="updateFromPicker('bg_bottom')">
<input type="text" id="bg_bottom_hex" placeholder="#a6cdec" onchange="updateFromHex('bg_bottom')">
</div>
</div>
<div class="color-group">
<label>Primary Text (Temp)</label>
<div class="color-input-wrapper">
<input type="color" id="text_primary" onchange="updateFromPicker('text_primary')">
<input type="text" id="text_primary_hex" placeholder="#ffffff" onchange="updateFromHex('text_primary')">
</div>
</div>
<div class="color-group">
<label>Secondary Text (Feels Like)</label>
<div class="color-input-wrapper">
<input type="color" id="text_secondary" onchange="updateFromPicker('text_secondary')">
<input type="text" id="text_secondary_hex" placeholder="#e4ffff" onchange="updateFromHex('text_secondary')">
</div>
</div>
<div class="color-group">
<label>Low Temperature</label>
<div class="color-input-wrapper">
<input type="color" id="text_low" onchange="updateFromPicker('text_low')">
<input type="text" id="text_low_hex" placeholder="#b9ecff" onchange="updateFromHex('text_low')">
</div>
</div>
<div class="color-group">
<label>Clock</label>
<div class="color-input-wrapper">
<input type="color" id="text_clock" onchange="updateFromPicker('text_clock')">
<input type="text" id="text_clock_hex" placeholder="#b9ecff" onchange="updateFromHex('text_clock')">
</div>
</div>
<div class="color-group">
<label>Forecast Box Background</label>
<div class="color-input-wrapper">
<input type="color" id="box_bg" onchange="updateFromPicker('box_bg')">
<input type="text" id="box_bg_hex" placeholder="#5e9bc8" onchange="updateFromHex('box_bg')">
</div>
</div>
</div>
<div class="preview" id="preview">
<div class="preview-content">
<h3>Live Preview</h3>
<p>This is how your theme will look</p>
</div>
</div>
<button class="btn btn-primary" onclick="saveTheme()">üíæ Save Theme</button>
<button class="btn btn-secondary" onclick="loadCurrent()">üîÑ Reload Current</button>
<div id="status" class="status"></div>
</div>
</div>
<script>
const presets={
default:{bg_top:'4c8cb9',bg_bottom:'a6cdec',text_primary:'ffffff',text_secondary:'e4ffff',text_tertiary:'b9ecff',text_low:'b9ecff',text_clock:'b9ecff',box_bg:'5e9bc8'},
sunset:{bg_top:'FF6B35',bg_bottom:'FFAA80',text_primary:'FFFFFF',text_secondary:'FFE5D9',text_tertiary:'FFCCB3',text_low:'FFB399',text_clock:'FFCC99',box_bg:'FF8C5A'},
ocean:{bg_top:'006994',bg_bottom:'33B5E5',text_primary:'FFFFFF',text_secondary:'CCF2FF',text_tertiary:'99E5FF',text_low:'66D9FF',text_clock:'99E5FF',box_bg:'0099CC'},
forest:{bg_top:'2D5016',bg_bottom:'73A942',text_primary:'FFFFFF',text_secondary:'E8F5E3',text_tertiary:'D1EBCC',text_low:'BAE1B5',text_clock:'D1EBCC',box_bg:'4A7C2C'},
lavender:{bg_top:'6A4C93',bg_bottom:'A78BCC',text_primary:'FFFFFF',text_secondary:'F4EEFF',text_tertiary:'E5D4FF',text_low:'D6BFFF',text_clock:'E5D4FF',box_bg:'8B6BB7'},
desert:{bg_top:'C77026',bg_bottom:'E8A87C',text_primary:'FFFFFF',text_secondary:'FFEFE0',text_tertiary:'FFDFC6',text_low:'FFCFAC',text_clock:'FFDFC6',box_bg:'D98E4A'},
arctic:{bg_top:'4A90A4',bg_bottom:'B4E1F0',text_primary:'FFFFFF',text_secondary:'F0FAFF',text_tertiary:'D9F2FF',text_low:'C2EAFF',text_clock:'D9F2FF',box_bg:'6BADC4'}
};
function loadPreset(name){
const p=presets[name];
if(!p)return;
setColors(p);
updatePreview();
showStatus('Preset loaded! Click Save to apply.','success');
}
function setColors(c){
['bg_top','bg_bottom','text_primary','text_secondary','text_low','text_clock','box_bg'].forEach(k=>{
const color='#'+c[k];
document.getElementById(k).value=color;
document.getElementById(k+'_hex').value=color;
});
}
function updateFromPicker(id){
const color=document.getElementById(id).value;
document.getElementById(id+'_hex').value=color;
updatePreview();
}
function updateFromHex(id){
let hex=document.getElementById(id+'_hex').value.trim();
if(!hex.startsWith('#'))hex='#'+hex;
if(/^#[0-9A-Fa-f]{6}$/.test(hex)){
document.getElementById(id).value=hex;
updatePreview();
}
}
function updatePreview(){
const prev=document.getElementById('preview');
prev.style.setProperty('--bg-top',document.getElementById('bg_top').value);
prev.style.setProperty('--bg-bottom',document.getElementById('bg_bottom').value);
prev.style.setProperty('--text-primary',document.getElementById('text_primary').value);
prev.style.setProperty('--text-secondary',document.getElementById('text_secondary').value);
}
function saveTheme(){
const data={};
['bg_top','bg_bottom','text_primary','text_secondary','text_low','text_clock','box_bg'].forEach(k=>{
data[k]=document.getElementById(k+'_hex').value.replace('#','');
});
fetch('/save',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)})
.then(r=>r.json())
.then(d=>{
if(d.success){
showStatus('Theme saved! Restarting display...','success');
setTimeout(()=>location.reload(),2000);
}else{
showStatus('Error saving theme','error');
}
}).catch(()=>showStatus('Connection error','error'));
}
function loadCurrent(){
fetch('/current').then(r=>r.json()).then(d=>{
setColors(d);
updatePreview();
showStatus('Current theme loaded','success');
}).catch(()=>showStatus('Error loading theme','error'));
}
function showStatus(msg,type){
const s=document.getElementById('status');
s.textContent=msg;
s.className='status '+type;
setTimeout(()=>s.style.display='none',5000);
}
loadCurrent();
</script>
</body>
</html>
